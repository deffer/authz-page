<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/head :: head"></head>

<body>
	<div th:replace="fragments/header :: header (name=${name})"></div>

	<div class="container">
		<div>
			<h2>Connected Application</h2>
			<!--p>These are sites you have approved manually. If the same site asks for the same access in the future, it will
			be granted without prompting.</p-->
			<table class="table table-striped">
				<tr><th>Application</th><th>Url</th><th>Scopes</th><th>Granted on</th><th>Expires</th><th>Options</th></tr>
				<tr th:each="app: ${applications}">
					<td><span th:text="${app.value.name}"></span></td>
					<td><span th:text="${app.value.redirectHost()}" th:title="${app.value.redirectUri}"></span></td>
					<td></td>
					<td>21-01-2016</td>
					<td>Never</td>
					<td>
						<a class="btn btn-xs" style="display:none;" href="#">
							<span class="glyphicon glyphicon-trash disable-links"></span> Revoke
						</a>
					</td>
				</tr>
			</table>
		</div>

		<div>
			<h2>My active tokens</h2>
			<!--p>Access tokens are usually short-lived and provide clients with access to specific resources.
				ID Tokens are specialized access tokens to facilitate log on using OpenID Connect.</p-->
			<table class="table table-striped table-condensed">
				<tr><th>Application</th><th>Scopes</th><th>Issued on</th><th>Expires on</th><th>Options</th></tr>
				<tr th:each="tk: ${tokens}">
					<td><span th:text="${tk.name}"></span></td>
					<td><span th:text="${tk.scope}"></span></td>
					<td><span th:text="${tk.issuedStr}" th:title="${tk.issuedHint}"></span></td>
					<td><span th:text="${tk.expiresStr}" th:title="${tk.expiresHint}"></span></td>
					<td><a class="btn btn-xs" href="#" th:onclick="'deleteToken(\''+${tk.access_token}+'\');'">
						<span class="glyphicon glyphicon-trash"></span> Revoke
					</a></td>
				</tr>
			</table>
		</div>

	</div>
	<!-- /container -->
	<div th:replace="fragments/footer :: footer"></div>
</body>
</html>