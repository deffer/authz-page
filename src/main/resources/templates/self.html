<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/head :: head"></head>

<body>
	<div th:replace="fragments/header :: header (name=${name})"></div>

	<div class="container uoa-container-large">
		<div th:if="${!consents.isEmpty()}">
			<h2>Connected Application</h2>
			<!--p>These are sites you have approved manually. If the same site asks for the same access in the future, it will
			be granted without prompting.</p-->
			<table class="table table-striped">
				<tr><th>Application</th><th>Url</th><th>Scopes</th><th>Granted on</th><th>Expires</th><th>Options</th></tr>
				<tr th:each="app: ${consents}">
					<td><span th:text="${app.name}" th:title="${app.access_token}"></span></td>
					<td><span th:text="${app.host}" th:title="${app.callbacks}"></span></td>
					<td><span th:text="${app.scope}"></span></td>
					<td><span th:text="${app.issuedStr}"></span></td>
					<td><span th:text="${app.expiresStr}"></span></td>
					<td>
						<a class="btn btn-xs" href="#" th:onclick="'deleteToken(\''+${app.id}+'\');'">
							<span class="glyphicon glyphicon-trash disable-links"></span> Remove
						</a>
					</td>
				</tr>
			</table>
		</div>

		<div>
			<h2>My active tokens</h2>
			<!--p>Access tokens are usually short-lived and provide clients with access to specific resources.
				ID Tokens are specialized access tokens to facilitate log on using OpenID Connect.</p-->
			<table class="table table-striped table-condensed">
				<tr><th>Application</th><th>Scopes</th><th>Issued on</th><th>Expires on</th><th>Options</th></tr>
				<tr th:each="tk: ${tokens}">
					<td><span th:text="${tk.name}" th:title="${tk.access_token}"></span></td>
					<td><span th:text="${tk.scope}"></span></td>
					<td><span th:text="${tk.issuedStr}" th:title="${tk.issuedHint}"></span></td>
					<td><span th:text="${tk.expiresStr}" th:title="${tk.expiresHint}"></span></td>
					<td><a class="btn btn-xs" href="#" th:onclick="'deleteToken(\''+${tk.id}+'\');'">
						<span class="glyphicon glyphicon-trash"></span> Revoke
					</a></td>
				</tr>
			</table>
		</div>

	</div>
	<!-- /container -->
	<div th:replace="fragments/footer :: footer"></div>
</body>
</html>